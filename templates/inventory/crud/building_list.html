{% extends "base.html" %}
{% block title %}Корпуса – Учёт картриджей{% endblock %}

{% block content %}
<div class="d-flex flex-wrap align-items-center justify-content-between gap-3 mb-4">

  <div class="section-head">
    <div class="section-ico">
      <i class="bi bi-buildings"></i>
    </div>

    <div class="section-text">
      <h1 class="h5 mb-1">Корпуса</h1>
      <div class="text-muted">
        Справочник корпусов школы
      </div>
    </div>
  </div>


    <a class="btn btn-primary btn-m"
     href="{% url 'inventory:building_add' %}">
    <i class="bi bi-plus-lg me-1"></i>
    Добавить
  </a>
</div>

<style>
  .list-row { border-top: 1px solid rgba(0,0,0,.06); }
  .list-row:first-child { border-top: 0; }
  .muted { color: rgba(0,0,0,.55); }
</style>

<div class="card shadow-sm">
  <div class="card-body p-0">
    {% for b in items %}
      <div class="px-3 px-md-4 py-3 list-row">
        <div class="d-flex flex-wrap align-items-start justify-content-between gap-3">
          <div class="flex-grow-1">
            <div class="fs-6 fw-semibold">{{ b.name }}</div>

            {% if b.address %}
              <div class="mt-1 muted">{{ b.address }}</div>
            {% else %}
              <div class="mt-1 text-muted">Адрес не указан</div>
            {% endif %}
          </div>

          <div class="d-flex flex-wrap gap-2 justify-content-end">
            <a class="btn btn-outline-secondary btn-sm"
               href="{% url 'inventory:building_edit' b.id %}">
              Редактировать
            </a>
            <a class="btn btn-outline-danger btn-sm"
               href="{% url 'inventory:building_delete' b.id %}">
              Удалить
            </a>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="text-center text-muted py-5">
        Пока пусто
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}